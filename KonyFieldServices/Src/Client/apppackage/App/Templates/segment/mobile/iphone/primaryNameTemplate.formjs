function initializeprimaryNameTemplate() {
    primaryNameTemplate = new kony.ui.FlexContainer({
        "id": "primaryNameTemplate",
        "isVisible": true,
        "width": "100%",
        "height": "40dp",
        "layoutType": kony.flex.FREE_FORM,
        "clipBounds": true,
        "onSwipe": null,
        "onTouchStart": null,
        "onTouchMove": null,
        "onTouchEnd": null,
        "onTouchCancel": null
    }, {
        "widgetAlignment": constants.WIDGET_ALIGN_TOP_LEFT,
        "containerWeight": 100,
        "padding": [0, 0, 0, 0],
        "hExpand": true,
        "vExpand": false,
        "layoutType": kony.flex.FREE_FORM
    }, {});
    primaryNameTemplate.setDefaultUnit(kony.flex.DP);
    var primaryNameLabel = new kony.ui.Label({
        "id": "primaryNameLabel",
        "skin": "slLabel",
        "text": "Label",
        "isVisible": true,
        "onSwipe": null,
        "onTouchStart": null,
        "onTouchMove": null,
        "onTouchEnd": null,
        "onTouchCancel": null,
        "left": "141dp",
        "top": "0dp"
    }, {
        "widgetAlignment": constants.WIDGET_ALIGN_CENTER,
        "contentAlignment": constants.CONTENT_ALIGN_MIDDLE_LEFT,
        "containerWeight": 100,
        "padding": [0, 0, 0, 0],
        "paddingInPixel": false,
        "margin": [1, 1, 1, 1],
        "marginInPixel": false,
        "hExpand": true,
        "vExpand": false
    }, {
        "wrapping": constants.WIDGET_TEXT_WORD_WRAP,
        "textCopyable": false
    });
    primaryNameTemplate.add(
    primaryNameLabel);
}